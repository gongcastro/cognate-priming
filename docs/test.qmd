---
title: "Test"
format: html
---

```{r setup}
gaze_aoi_plot <- readr::read_csv("gaze_aoi_plot.csv") |> 
	dplyr::filter(timestamp > 1) |> 
	dplyr::rename(file = filename)

ojs_define(mydata = gaze_aoi_plot)
```

```{ojs}
transposed = transpose(mydata)

trial_list = Array.from(Array(32).keys()).map(d => d + 1)
id_list = Array.from(Array(185).keys()).map(d => d + 18)
age_list = ["21 months", "25 months", "30 months"]

viewof input_id = Inputs.select(id_list, {label: "Participant", value: 18})
viewof input_age = Inputs.select(age_list, {label: "Age", value: "21 months"})
viewof input_trial = Inputs.select(trial_list, {label: "Trial", value: 1})

filtered = transposed.filter(d => d.trial==input_trial && 
									d.age_group==input_age &&
									d.input_id==input_id)

viewof data_table = Inputs.table(filtered)
```